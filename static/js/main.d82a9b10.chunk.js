(this["webpackJsonpuse-delayed-function-example"]=this["webpackJsonpuse-delayed-function-example"]||[]).push([[0],{17:function(e,t,n){"use strict";n.r(t);n(9);var a=n(0),c=n.n(a),l=n(5),r=n.n(l),u=n(1),o=n(4),i=n.n(o),m=n(7),s=n(6);var f=function(e,t,n){var c=Object(a.useRef)({timeout:null,cancel:null}).current;return Object(a.useEffect)((function(){return function(){c.cancel&&c.cancel(!0),c.timeout&&clearTimeout(c.timeout)}}),[]),[function(){var a=arguments;return c.cancel&&(c.cancel(),c.cancel=null),c.timeout&&(clearTimeout(c.timeout),c.timeout=null),new Promise((function(l,r){var u=!0;c.cancel=function(e){u=!1,n&&!e&&r({message:"Function call canceled",timestamp:Date.now()})},c.timeout=setTimeout(Object(s.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.timeout=null,t.prev=1,t.next=4,e&&e.apply(void 0,Object(m.a)(a));case 4:n=t.sent,c.cancel=null,u&&l(n),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),c.cancel=null,u&&r(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,9]])}))),"object"===typeof t?t.current||0:t||0)}))},function(e){c.cancel&&(c.cancel(e),c.cancel=null),c.timeout&&(clearTimeout(c.timeout),c.timeout=null)}]},d=function(e){var t=e.delay,n=void 0===t?4e3:t,l=Object(a.useRef)(),r=f((function(e,t){e.innerHTML=t}),n),o=Object(u.a)(r,1)[0];return Object(a.useEffect)((function(){o(l.current,"This is the new content")}),[]),c.a.createElement("div",null,c.a.createElement("div",{className:"container simple-example"},c.a.createElement("p",{ref:l},"This content will change ".concat(n,"ms after mounting"))),c.a.createElement("div",{className:"links"},c.a.createElement("a",{href:"https://github.com/makannew/use-delayed-function/blob/master/example/src/simple-example.js"},"Source code"),c.a.createElement("a",{href:"https://github.com/makannew/use-delayed-function"},"use-delayed-function")))},p=function(e){var t=e.defaultDelay,n=void 0===t?900:t,l=Object(a.useRef)(),r=Object(a.useState)(n),o=Object(u.a)(r,2),i=o[0],m=o[1],s=f((function(e,t){return e.innerHTML=t,e}),i),d=Object(u.a)(s,1)[0],p=f((function(e){e.className=""}),1e3),b=Object(u.a)(p,1)[0],E=f((function(e){return e.className="updating",e})),h=Object(u.a)(E,1)[0];return c.a.createElement("div",null,c.a.createElement("div",{className:"description"},c.a.createElement("h3",null,"Stateless debouncing"),c.a.createElement("p",null,"Debounced result will be shown after typing. Try it by typing in textarea.")),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"form-container"},c.a.createElement("form",null,c.a.createElement("h4",null,"Real-time value"),c.a.createElement("textarea",{type:"text",placeholder:"Type something",onChange:function(e){d(l.current,e.target.value).then(h).then(b)}}),c.a.createElement("label",{htmlFor:"delay"},"Debouncing delay ".concat(i,"ms")),c.a.createElement("input",{type:"range",id:"delay",name:"delay",value:i,min:0,max:2e3,step:20,onChange:function(e){m(e.target.value)}}))),c.a.createElement("div",{className:"form-container"},c.a.createElement("form",null,c.a.createElement("h4",null,"Debounced result"),c.a.createElement("p",{ref:l})))),c.a.createElement("div",{className:"links"},c.a.createElement("a",{href:"https://github.com/makannew/use-delayed-function/blob/master/example/src/debouncing-example.js"},"Source code"),c.a.createElement("a",{href:"https://github.com/makannew/use-delayed-function"},"use-delayed-function")))},b=function(){var e=Object(a.useRef)(),t=Object(a.useState)(!0),n=Object(u.a)(t,2),l=n[0],r=n[1],o=Object(a.useState)(!1),i=Object(u.a)(o,2),m=i[0],s=i[1],d=f((function(e,t){return new Promise((function(n,a){setTimeout((function(){n(e+t)}),2e3)}))}),0,!0),p=Object(u.a)(d,2),b=p[0],E=p[1];function h(e,t){e.innerHTML=t}return c.a.createElement("div",null,c.a.createElement("div",{className:"container async-example"},c.a.createElement("p",{ref:e},"click to start async adding of content"),c.a.createElement("button",{onClick:function(){l?(r(!1),s(!1),h(e.current,"adding content will be started soon"),b("Hello"," ").then((function(t){return h(e.current,t),b(t,"world")})).then((function(t){h(e.current,t),r(!0)})).catch((function(e){s(e)}))):(E(),r(!0),h(e.current,"click to start async adding of content"))},className:l?"":"red"},l?"Start":"Stop"),c.a.createElement("p",{className:"error"},m?"".concat(m.message," @timestamp:").concat(m.timestamp):null)),c.a.createElement("div",{className:"links"},c.a.createElement("a",{href:"https://github.com/makannew/use-delayed-function/blob/master/example/src/async-example.js"},"Source code"),c.a.createElement("a",{href:"https://github.com/makannew/use-delayed-function"},"use-delayed-function")))},E=function(){var e=Object(a.useState)(1),t=Object(u.a)(e,2),n=t[0],l=t[1];return c.a.createElement(c.a.Fragment,null,1===n?c.a.createElement(d,null):null,2===n?c.a.createElement(p,null):null,3===n?c.a.createElement(b,null):null,c.a.createElement("div",{className:"buttons"},c.a.createElement("button",{onClick:function(){return l(1)}},"Simple Example"),c.a.createElement("button",{onClick:function(){return l(2)}},"Debouncing Example"),c.a.createElement("button",{onClick:function(){return l(3)}},"Async and side effect example")))};r.a.render(c.a.createElement(E,null),document.getElementById("root"))},8:function(e,t,n){e.exports=n(17)},9:function(e,t,n){}},[[8,1,2]]]);
//# sourceMappingURL=main.d82a9b10.chunk.js.map