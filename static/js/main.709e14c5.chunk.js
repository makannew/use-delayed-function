(this["webpackJsonpuse-delayed-function-example"]=this["webpackJsonpuse-delayed-function-example"]||[]).push([[0],{17:function(e,t,n){"use strict";n.r(t);n(9);var a=n(0),c=n.n(a),l=n(5),u=n.n(l),r=n(1),i=n(4),o=n.n(i),m=n(7),s=n(6);var f=function(e,t,n){var c=Object(a.useRef)({timeout:null,cancel:null}).current;return Object(a.useEffect)((function(){return function(){c.cancel&&c.cancel(!0),c.timeout&&clearTimeout(c.timeout)}}),[]),[function(){var a=arguments;return c.cancel&&(c.cancel(),c.cancel=null),c.timeout&&(clearTimeout(c.timeout),c.timeout=null),new Promise((function(l,u){var r=!0;c.cancel=function(e){r=!1,n&&!e&&u({message:"Function call canceled",timestamp:Date.now()})},c.timeout=setTimeout(Object(s.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.timeout=null,t.prev=1,t.next=4,e&&e.apply(void 0,Object(m.a)(a));case 4:n=t.sent,c.cancel=null,r&&l(n),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),c.cancel=null,r&&u(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,9]])}))),t||0)}))},function(e){c.cancel&&(c.cancel(e),c.cancel=null),c.timeout&&(clearTimeout(c.timeout),c.timeout=null)}]},d=function(e){var t=e.delay,n=void 0===t?4e3:t,l=Object(a.useRef)(),u=f((function(e,t){e.innerHTML=t}),n),i=Object(r.a)(u,1)[0];return Object(a.useEffect)((function(){i(l.current,"This is the new content")}),[]),c.a.createElement("div",{className:"container simple-example"},c.a.createElement("p",{ref:l},"This content will change ".concat(n,"ms after mounting")),c.a.createElement("div",{className:"links"},c.a.createElement("a",{href:"https://github.com/makannew/use-delayed-function/blob/master/example/src/simple-example.js"},"Source code"),c.a.createElement("a",{href:"https://github.com/makannew/use-delayed-function"},"use-delayed-function")))},p=function(e){var t=e.defaultDelay,n=void 0===t?900:t,l=Object(a.useRef)(),u=Object(a.useState)(n),i=Object(r.a)(u,2),o=i[0],m=i[1],s=f((function(e,t){return e.innerHTML=t,e}),o),d=Object(r.a)(s,1)[0],p=f((function(e){e.className=""}),1e3),b=Object(r.a)(p,1)[0],E=f((function(e){return e.className="updating",e})),h=Object(r.a)(E,1)[0];return c.a.createElement("div",null,c.a.createElement("div",{className:"description"},c.a.createElement("h3",null,"Stateless debouncing"),c.a.createElement("p",null,"While typing debounced result will be updated. Try it by typing in textarea.")),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"form-container"},c.a.createElement("form",null,c.a.createElement("h4",null,"Real-time value"),c.a.createElement("textarea",{type:"text",placeholder:"Type something",onChange:function(e){d(l.current,e.target.value).then(h).then(b)}}),c.a.createElement("label",{htmlFor:"delay"},"Debouncing delay ".concat(o,"ms")),c.a.createElement("input",{type:"range",id:"delay",name:"delay",value:o,min:0,max:2e3,step:20,onChange:function(e){m(e.target.value)}}))),c.a.createElement("div",{className:"form-container"},c.a.createElement("form",null,c.a.createElement("h4",null,"Debounced result"),c.a.createElement("p",{ref:l})))),c.a.createElement("div",{className:"links"},c.a.createElement("a",{href:"https://github.com/makannew/use-delayed-function/blob/master/example/src/debouncing-example.js"},"Source code"),c.a.createElement("a",{href:"https://github.com/makannew/use-delayed-function"},"use-delayed-function")))},b=function(){var e=Object(a.useRef)(),t=Object(a.useState)(!0),n=Object(r.a)(t,2),l=n[0],u=n[1],i=Object(a.useState)(!1),o=Object(r.a)(i,2),m=o[0],s=o[1],d=f((function(e,t){return new Promise((function(n,a){setTimeout((function(){n(e+t)}),2e3)}))}),0,!0),p=Object(r.a)(d,2),b=p[0],E=p[1];function h(e,t){e.innerHTML=t}return c.a.createElement("div",null,c.a.createElement("div",{className:"container async-example"},c.a.createElement("p",{ref:e},"click to start async adding of content"),c.a.createElement("button",{onClick:function(){l?(u(!1),s(!1),h(e.current,"adding content will be started soon"),b("Hello"," ").then((function(t){return h(e.current,t),b(t,"world")})).then((function(t){h(e.current,t),u(!0)})).catch((function(e){s(e)}))):(E(),u(!0),h(e.current,"click to start async adding of content"))},className:l?"":"red"},l?"Start":"Stop"),c.a.createElement("p",{className:"error"},m?"".concat(m.message," @timestamp:").concat(m.timestamp):null)),c.a.createElement("div",{className:"links"},c.a.createElement("a",{href:"https://github.com/makannew/use-delayed-function/blob/master/example/src/async-example.js"},"Source code"),c.a.createElement("a",{href:"https://github.com/makannew/use-delayed-function"},"use-delayed-function")))},E=function(){var e=Object(a.useRef)();return Object(a.useEffect)((function(){}),[]),c.a.createElement("div",{ref:e,className:"container initializing-example"},c.a.createElement("p",null,"Loading"),c.a.createElement("div",{className:"links"},c.a.createElement("a",{href:"https://github.com/makannew/use-delayed-function/blob/master/example/src/initializing-example.js"},"Source code"),c.a.createElement("a",{href:"https://github.com/makannew/use-delayed-function"},"use-delayed-function")))},h=function(){var e=Object(a.useState)(1),t=Object(r.a)(e,2),n=t[0],l=t[1];return c.a.createElement(c.a.Fragment,null,1===n?c.a.createElement(d,null):null,2===n?c.a.createElement(p,null):null,3===n?c.a.createElement(b,null):null,4===n?c.a.createElement(E,null):null,c.a.createElement("div",{className:"buttons"},c.a.createElement("button",{onClick:function(){return l(1)}},"Simple Example of 'use-delayed-function'"),c.a.createElement("button",{onClick:function(){return l(2)}},"Debouncing Example"),c.a.createElement("button",{onClick:function(){return l(3)}},"Async and side effect example"),c.a.createElement("button",{onClick:function(){return l(4)}},"Initializing example")))};u.a.render(c.a.createElement(h,null),document.getElementById("root"))},8:function(e,t,n){e.exports=n(17)},9:function(e,t,n){}},[[8,1,2]]]);
//# sourceMappingURL=main.709e14c5.chunk.js.map